<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Find yourself a friend: Coffee edition.</title>
  <!-- Bootstrap and jQuery -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <!-- Chosen -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>   <!-- My CSS-->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container-fluid">
        <div class="container">
            <H2>Questions</H2>
            <hr>
            <H3>About You</H3>
            <H4>Name:</H4>
            <input type="text" class="form-control" id="name" aria-label="Username" aria-describedby="basic-addon1">
            <H4>Link to a Photo:</H4>
            <input type="text" class="form-control" id="photoURL">
            <hr>
            <H3>Question 1</H3>
            <H4>You prefer cofee to tea.</H4>
            <select class="chosen-select" id="q1">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H3>Question 2</H3>
            <H4>Pour over coffee isn't worth the effort.</H4>
            <select class="chosen-select" id="q2">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H4>Question 3</H4>
            <H4>Cold brew coffee is for people afraid of heat.</H4>
            <select class="chosen-select" id="q3">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H3>Question 4</H3>
            <H4>Draft coffee is a scam.</H4>
            <select class="chosen-select" id="q4">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H3>Question 5</H3>
            <H4>Starbucks is better than Dunkin Donuts.</H4>
            <select class="chosen-select" id="q5">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H4>Question 6</H4>
            <H4>Black coffee is the only way to go.</H4>
            <select class="chosen-select" id="q6">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H3>Question 7</H3>
            <H4>If you must use cream, whole cream is better than half and half.</H4>
            <select class="chosen-select" id="q7">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H3>Question 8</H3>
            <H4>Decaff should be banned.</H4>
            <select class="chosen-select" id="q8">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H4>Question 9</H4>
            <H4>The only flavor of coffee should be coffee.</H4>
            <select class="chosen-select" id="q9">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <H4>Question 10</H4>
            <H4>In a pinch instant will do.</H4>
            <select class="chosen-select" id="q10">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <hr>
            <button class="btn btn-primary" id="submitFriend">Submit</button>
            <hr>
        </div>
    </div>
      <!-- Modal -->
  <div id="friend-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Your new friend</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="friend-name"></h2>
          <img id="friend-face" class="modalImg" src="" alt="Your Friend's face">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>

    <script>
        $("#submitFriend").on("click", function () {
            //make sure all items are populated 
            if (
                !$("#name").val() ||
                !$("#photoURL").val() ||
                !$("#q1").val() ||
                !$("#q2").val() ||
                !$("#q3").val() ||
                !$("#q4").val() ||
                !$("#q5").val() ||
                !$("#q6").val() ||
                !$("#q7").val() ||
                !$("#q8").val() ||
                !$("#q9").val() ||
                !$("#q10").val()) {
                alert("All fields not populated!");
            }
            else {
                // all is good build the object and submit

                var userObject = {
                    name: $("#name").val(),
                    photo: $("#photoURL").val(),
                    scores: [
                        parseInt($("#q1").val()),
                        parseInt($("#q2").val()),
                        parseInt($("#q3").val()),
                        parseInt($("#q4").val()),
                        parseInt($("#q5").val()),
                        parseInt($("#q6").val()),
                        parseInt($("#q7").val()),
                        parseInt($("#q8").val()),
                        parseInt($("#q9").val()),
                        parseInt($("#q10").val())
                    ]
                };

                // AJAX post the data to the friends API.
                $.post("/api/friends", userObject, function (result) {

                    // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                    $("#friend-name").text(result.name);
                    $("#friend-face").attr("src", result.photoUrl);

                    // Show the modal with the best match
                    $("#friend-modal").modal("toggle");
                   // clear the form.
                    $("#name").val("");
                    $("#photoURL").val("");
                    $("#q1").val("");
                    $("#q2").val("");
                    $("#q3").val("");
                    $("#q4").val("");
                    $("#q5").val("");
                    $("#q6").val("");
                    $("#q7").val(""); 
                    $("#q8").val("");
                    $("#q9").val(""); 
                    $("#q10").val("");
                });

            }
        });



    </script>
</body>

</html>